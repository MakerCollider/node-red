<!--
  Copyright 2013 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- WebSocket Input Node -->
<script type="text/x-red" data-help-name="websocket in">
<h3 id="Websockt输入节点"><a name="Websockt输入节点" href="#Websockt输入节点"></a>Websockt输入节点</h3>
    <p>WebSocket输入节点</p>
    <h4 id="配置参数"><a name="配置参数" href="#配置参数"></a>配置参数</h4>
    <ol>
    <li>Type : 监听类型</li>
    <li>Path : 路径，添加了新的WebSocket。</li>
      <li>Name : 名称</li>
    </ol>
    <h4 id="输入"><a name="输入" href="#输入"></a>输入</h4>
    <ol>
  <li>无</li></ol>
  <h4 id="输出"><a name="输出" href="#输出"></a>输出</h4>
  <ol>
  <li>msg.payload</li></ol>
  <h4 id="使用方法"><a name="使用方法" href="#使用方法"></a>使用方法</h4>
  <ol>
    <p>默认方式, 从WebSocket接收到的数据将会放在<b>msg.payload</b>.
    套接字可以被配置成期望格式的JSON字符串, 在这情况下,websocket将解析JSON，并将整个消息作为结果对象发送.</p>
    </ol>
</script>

<!-- WebSocket out Node -->
<script type="text/x-red" data-help-name="websocket out">
<h3 id="Websockt输出节点"><a name="Websockt输出节点" href="#Websockt输出节点"></a>Websockt输出节点</h3>
    <p>WebSocket输出节点</p>
    <h4 id="配置参数"><a name="配置参数" href="#配置参数"></a>配置参数</h4>
    <ol>
    <li>Type : 监听类型</li>
    <li>Path : 路径，添加了新的WebSocket。</li>
      <li>Name : 名称</li>
    </ol>
    <h4 id="输入"><a name="输入" href="#输入"></a>输入</h4>
    <ol>
  <li>无</li></ol>
  <h4 id="输出"><a name="输出" href="#输出"></a>输出</h4>
  <ol>
  <li>msg.payload</li></ol>
  <h4 id="使用方法"><a name="使用方法" href="#使用方法"></a>使用方法</h4>
  <ol>
   <p>默认方式, <b>msg.payload</b> 将通过WebSocket发送,套接字可以被配置为将整个消息对象作为JSON字符串编码，并且通过WebSocket发送。</p>
    <p>如果这个节点由一个WebSocket输入节点触发开始，那么当消息到达该节点时，消息将被发送回触发工作流的客户端, 否则, 消息将被广播给所有连接的客户机。</p>
    <p>如果这个节点由一个WebSocket输入节点触发开始，而你希望广播一个消息, 你应该删除工作流中的 <b>msg._session</b> 属性</p>.
    </ol>
</script>

<!-- WebSocket Server configuration node -->
<script type="text/x-red" data-help-name="websocket-listener">
   <p>这个配置节点创建一个WebSocket服务器使用指定的路径</p>
</script>

<!-- WebSocket Client configuration node -->
<script type="text/x-red" data-help-name="websocket-client">
   <p>这个配置节点连接一个WebSocket客户端到一个指定的URL。</p>

</script>

