
<!--
  Copyright 2014,2015 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-help-name="csv">
<h3 id="CSV节点">CSV节点</h3>

<p>本节点可以将msg.payload</b>中的javascript对象转化成csv，或者将csv转换成javascript对象，并且将转换结果放到payload中。</p>

<h4 id="参数配置">参数配置</h4>
<ol>
<li>Columns：列的名字，用逗号分隔</li>
<li>Separator：分隔符。</li>
<li>Name：节点的名称</li>
<li>CSV-to-Object options：CSV字符串转换为javascript的Object对象选项</li>

<li>Input:first row contains column names：输入的第一行是否包含列名</li>
<li>Output：输出：a message per row:每行一个消息。a single message [array]:一个单独的消息数组</li>

<li>Object-to-CSV options：javascript对象转换为CSV字符串选项</li>

<li>Output：include column name row:输出：是否包含列名称。</li>
<li>Newline：新行格式：Linux格式（\n结尾） Mac格式（\r结尾） Windows格式（\r\n）结尾</li>
</ol>


<h4 id="输入量">输入量</h4>

<ol>
<li>msg.payload：输入</li>
<p>如果输入是一个字符串，那么它试图解析CSV并创建一个javascript对象。</p>
<p>如果输入是一个javascript对象，那么它则试图建立一个 CSV 字符串。</p>
<p>如果输入是一个简单的数组，那么输出的只是一个CSV。</p>
<p>如果输入是一个包含数组的数组或对象数组，则创建一个多行CSV。</p>
<p>如果输入是一个数组，则列模板则并不是很重要, 但可以用于生成一行列标题。</p>
</ol>

<h4 id="输出量">输出量</h4>
<ol>
<li>见“输入量”</li>
</ol>

<h4 id="使用方法">使用方法</h4>
<ol>
<li>配置好节点的每个参数。</li>
<li>当输入<code>msg.payload</code>时，节点根据选择的动作进行文件操作。<p>列模板应该包含一个列标题的有序列表，对于输入的CSV数据，这些列标题就作为CSV的属性名。对于输出的CSV数据，这些列标题则指明了从对象解析出的属性，以及CSV的顺序。<p><b>Note:</b> 指定的列应该是逗号分隔 - 即使数据中选择了另一种分隔符。</p>
</li>
</ol>
</script>


<!--script type="text/x-red" data-help-name="csv">
    <p>A function that parses the <b>msg.payload</b> to convert CSV to/from a javascript object.
    Places the result in the payload.</p>
    <p>If the input is a string it tries to parse it as CSV and creates a javascript object.</p>
    <p>If the input is a javascript object it tries to build a CSV string.</p>
    <p>If the input is a simple array the output is just a CSV generated from that array.</p>
    <p>If the input is an array of arrays or an array of objects a multiple-line CSV is created.</p>
    <p>The columns template should contain an ordered list of column headers. For CSV input these become the property names.
    For CSV output these specify the properties to extract from the object and the order for the CSV.</p>
    <p>If the input is an array then the columns template does not matter, but can be used to generate a row of column titles.</p>
    <p><b>Note:</b> the columns should always be specified comma separated - even if another separator is chosen for the data.</p>
    </script>-->